<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Khunya Thai Cuisine</title>
  <meta name="description" content="æ¿æ©‹å··å¼„è£¡çš„æ³°åœ‹å®¶å¸¸é¤æ¡Œï¼šæ‰“æ‹‹é£¯ã€æ¸…é‚é‡‘éºµã€èˆ¹éºµèˆ‡æ³°å¼å¥¶èŒ¶ã€‚" />
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <span class="zh" data-i18n="brand_zh">æ˜†é›…æ³°å¼æ–™ç†</span>
        <span class="en" data-i18n="brand_en">Khunya Thai Cuisine</span>
      </div>

      <div class="nav">
        <div class="nav-links">
          <a href="#menu" data-i18n="nav_menu">èœå–®</a>
        <a href="#about" data-i18n="nav_about">é—œæ–¼</a>
        <a href="#contact" data-i18n="nav_contact">è¯çµ¡</a>
        </div>
        <div class="lang" role="group" aria-label="Language">
          <button type="button" class="lang-btn" data-lang="zh" aria-pressed="true">ä¸­</button>
          <button type="button" class="lang-btn" data-lang="th" aria-pressed="false">TH</button>
          <button type="button" class="lang-btn" data-lang="en" aria-pressed="false">EN</button>
        </div>
        <button class="burger" id="navToggle" type="button" aria-label="Open menu" aria-expanded="false">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-backdrop" data-close="1"></div>
    <div class="drawer-panel" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="drawer-head">
        <div class="drawer-title">Khunya Thai Cuisine</div>
        <button class="drawer-close" type="button" data-close="1" aria-label="Close menu">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <nav class="drawer-nav">
        <a href="#menu" data-i18n="nav_menu">èœå–®</a>
        <a href="#about" data-i18n="nav_about">é—œæ–¼</a>
        <a href="#contact" data-i18n="nav_contact">è¯çµ¡</a>
      </nav>

      <div class="drawer-lang">
        <div class="drawer-lang-label" data-i18n="nav_lang_label">èªè¨€ / Language</div>
        <div class="lang" role="group" aria-label="Language">
          <button type="button" class="lang-btn" data-lang="zh" aria-pressed="true">ä¸­</button>
          <button type="button" class="lang-btn" data-lang="th" aria-pressed="false">TH</button>
          <button type="button" class="lang-btn" data-lang="en" aria-pressed="false">EN</button>
        </div>
      </div>
    </div>
  </div>


  <div class="spacer-top"></div>

  <div class="hero reveal" id="top">
    <video class="hero-video" autoplay muted loop playsinline preload="metadata">
      <source src="./hero.mp4" type="video/mp4" />
    </video>
    <div class="hero-overlay" aria-hidden="true"></div>
<main class="wrap">
    <div class="hero-inner">
      <div class="hero-copy">
        <h1 data-i18n="hero_title">æ˜†é›…æ³°å¼æ–™ç†</h1>
        <p data-i18n="hero_desc">æ¿æ©‹å··å¼„è£¡çš„æ³°åœ‹å®¶å¸¸é¤æ¡Œï¼šæ‰“æ‹‹é£¯ã€æ¸…é‚é‡‘éºµã€èˆ¹éºµèˆ‡æ³°å¼å¥¶èŒ¶ï¼Œå¤©å¤©éƒ½å¯ä»¥åƒçš„é‚£ç¨®ã€‚</p>

        <div class="meta">
          <div><b data-i18n="addr_label">åœ°å€</b>ï½œ<span data-i18n="addr_text">æ–°åŒ—å¸‚æ¿æ©‹å€æ–‡åŒ–è·¯ä¸€æ®µ311ä¹‹11è™Ÿ</span></div>
          <div><b data-i18n="hours_label">ç‡Ÿæ¥­æ™‚é–“</b>ï½œ<span data-i18n="hours_text">11:00â€“14:00ã€17:00â€“21:00ï¼ˆé€±æ—¥å…¬ä¼‘ï¼‰</span></div>
        </div>

        <div class="cta-row">
          <a class="btn primary" href="https://lin.ee/bFDTD1n" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 3c-5.523 0-10 3.58-10 8 0 3.676 3.07 6.795 7.242 7.719.282.06.666.184.762.424.087.218.057.56.028.783 0 0-.101.613-.123.742-.037.219-.172.857.751.467.923-.39 4.986-2.935 6.806-5.02C20.214 13.92 22 11.17 22 11c0-4.42-4.477-8-10-8Z" stroke="currentColor" stroke-width="1.5"/><path d="M8 10h2v4H8v-4Zm3 0h2v4h-2v-4Zm3 0h2v4h-2v-4Z" fill="currentColor"/></svg>
            <span data-i18n="cta_line">LINE ç·šä¸Šè©¢å•</span>
          </a>

          <a class="btn ghost" href="https://maps.app.goo.gl/vVybQWvB1mExvYxW9" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 21s7-4.438 7-11a7 7 0 1 0-14 0c0 6.562 7 11 7 11Z" stroke="currentColor" stroke-width="1.5"/><path d="M12 10.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill="currentColor"/></svg>
            <span data-i18n="cta_map">å°èˆª</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <section id="menu">

      <div class="section-head reveal">
        <div>
          <h2 data-i18n="menu_title">èœå–®</h2>
          <div class="sub" data-i18n="menu_sub">æ¯å€‹åˆ†é¡éƒ½æ˜¯å·¦å³æ»‘å‹•çš„æ–™ç†å°å¡ï¼›é»å°å¡å¯æ”¾å¤§åœ–ç‰‡ã€‚å³ä¸Šè§’é¸å–®å¯åˆ‡æ›èªè¨€ã€‚</div>
        </div>
      </div>

      <div id="menuStatus" class="loading">è¼‰å…¥èœå–®ä¸­â€¦</div>
      <div id="menuRoot"></div>
    </section>

    <section id="about">
      <div class="section-head reveal">
        <div>
          <h2 data-i18n="about_title">é—œæ–¼æˆ‘å€‘</h2>
          <div class="sub" data-i18n="about_sub">æˆ‘å€‘å¸Œæœ›æŠŠä½ åœ¨æ³°åœ‹åƒåˆ°çš„é‚£ä»½ã€Œæ—¥å¸¸èˆ‡å›æ†¶ã€å¸¶å›æ¿æ©‹ã€‚é¦™æ°£ã€é‹æ°£ã€èˆ‡ä¸å¦¥å”çš„é…æ–™ï¼Œè®“æ¯ä¸€å£éƒ½å€¼å¾—ã€‚</div>
        </div>
      </div>

      <div class="grid2">
        <div class="panel reveal">
          <h3 data-i18n="about_p1_title">æ³°å¼å®¶å¸¸ï¼Œæ—¥å¸¸å¯åƒ</h3>
          <p data-i18n="about_p1">æ‰“æ‹‹ç”¨æ³°åœ‹æ‰“æ‹‹è‘‰ã€èˆ¹éºµæ¹¯é ­å±¤æ¬¡åˆ†æ˜ã€å’–å“©é¦™æ°£é£½æ»¿ï¼›æˆ‘å€‘è¿½æ±‚çš„æ˜¯ã€Œè¶Šåƒè¶Šæƒ³å¿µã€çš„å£å‘³ã€‚</p>
        </div>
        <div class="panel reveal">
          <h3 data-i18n="about_p2_title">å¤–å¸¶ä¹Ÿè¦å¥½åƒ</h3>
          <p data-i18n="about_p2">å‡ºé¤èˆ‡æ‰“åŒ…æµç¨‹æŒçºŒå„ªåŒ–ï¼Œè®“å¤–å¸¶èˆ‡å¤–é€ä¹Ÿä¿æœ‰é‹æ°£èˆ‡å£æ„Ÿã€‚</p>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="section-head reveal">
        <div>
          <h2 data-i18n="contact_title">è¯çµ¡</h2>
          <div class="sub" data-i18n="contact_sub">æœ‰ä»»ä½•å•é¡Œã€æƒ³é è¨‚æˆ–æƒ³åˆä½œï¼Œç›´æ¥ç”¨ LINE æœ€å¿«ã€‚</div>
        </div>
      </div>

      <div class="grid2">
        <div class="panel reveal">
          <h3 data-i18n="contact_line_title">LINE</h3>
          <a href="https://lin.ee/af7XqRj"><img src="https://scdn.line-apps.com/n/line_add_friends/btn/zh-Hant.png" alt="åŠ å…¥å¥½å‹" height="36" border="0"></a>
          <p style="margin-top:8px" data-i18n="contact_line_tip">ä½ å¯ä»¥ç›´æ¥è²¼ä¸Š Uber è¨‚å–®å•é¡Œã€å®¢è£½éœ€æ±‚ï¼Œæˆ‘å€‘æœƒç›¡å¿«å›è¦†ã€‚</p>
        </div>
        <div class="panel reveal">
          <h3 data-i18n="contact_addr_title">åœ°å€ / ç‡Ÿæ¥­æ™‚é–“</h3>
          <p data-i18n="contact_addr">æ–°åŒ—å¸‚æ¿æ©‹å€æ–‡åŒ–è·¯ä¸€æ®µ311ä¹‹11è™Ÿ</p>
          <p style="margin-top:8px" data-i18n="contact_hours">11:00â€“14:00ã€17:00â€“21:00ï¼ˆé€±æ—¥å…¬ä¼‘ï¼‰</p>
        </div>
      </div>
    </section>

    <footer style="padding:18px 0 38px; color: rgba(23,23,23,.55); font-size: 12px;">
      Â© <span id="year"></span> Khunya Thai Cuisine
    </footer>
  </main>

  <div class="lightbox" id="lightbox" aria-hidden="true">
    <img id="lightboxImg" alt="menu image" />
  </div>

  <!-- Lenis smoother scroll (optional) -->
  <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/bundled/lenis.min.js"></script>
  <script>
    // ====== Utilities ======
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    document.getElementById('year').textContent = new Date().getFullYear();

    // ====== i18n ======
    const I18N = {
      zh: {
        brand_zh: "Khunya Thai Cuisine",
        brand_en: "à¸„à¸£à¸±à¸§à¸à¸²à¸­à¸²à¸«à¸²à¸£à¹„à¸—à¸¢",
        nav_lang_label: "èªè¨€ / Language",
        nav_menu: "èœå–®", nav_about: "é—œæ–¼", nav_contact: "è¯çµ¡",
        hero_title: "æ˜†é›…æ³°å¼æ–™ç†",
        hero_desc: "æ¿æ©‹å··å¼„è£¡çš„æ³°åœ‹å®¶å¸¸é¤æ¡Œï¼šæ‰“æ‹‹é£¯ã€æ¸…é‚é‡‘éºµã€èˆ¹éºµèˆ‡æ³°å¼å¥¶èŒ¶ï¼Œå¤©å¤©éƒ½å¯ä»¥åƒçš„é‚£ç¨®ã€‚",
        addr_label: "åœ°å€", addr_text: "æ–°åŒ—å¸‚æ¿æ©‹å€æ–‡åŒ–è·¯ä¸€æ®µ311ä¹‹11è™Ÿ",
        hours_label: "ç‡Ÿæ¥­æ™‚é–“", hours_text: "11:00â€“14:00ã€17:00â€“21:00ï¼ˆé€±æ—¥å…¬ä¼‘ï¼‰",
        cta_line: "LINE ç·šä¸Šè©¢å•",
        cta_nav: "å°èˆªåˆ°æˆ‘å€‘",
        menu_title: "èœå–®",
        menu_sub: "æ¯å€‹åˆ†é¡éƒ½æ˜¯å·¦å³æ»‘å‹•çš„æ–™ç†å°å¡ï¼›é»å°å¡å¯æ”¾å¤§åœ–ç‰‡ã€‚å³ä¸Šè§’é¸å–®å¯åˆ‡æ›èªè¨€ã€‚",
        about_title: "é—œæ–¼æˆ‘å€‘",
        about_sub: "æˆ‘å€‘å¸Œæœ›æŠŠä½ åœ¨æ³°åœ‹åƒåˆ°çš„é‚£ä»½ã€Œæ—¥å¸¸èˆ‡å›æ†¶ã€å¸¶å›æ¿æ©‹ã€‚é¦™æ°£ã€é‹æ°£ã€èˆ‡ä¸å¦¥å”çš„é…æ–™ï¼Œè®“æ¯ä¸€å£éƒ½å€¼å¾—ã€‚",
        about_p1_title: "æ³°å¼å®¶å¸¸ï¼Œæ—¥å¸¸å¯åƒ",
        about_p1: "æ‰“æ‹‹ç”¨æ³°åœ‹æ‰“æ‹‹è‘‰ã€èˆ¹éºµæ¹¯é ­å±¤æ¬¡åˆ†æ˜ã€å’–å“©é¦™æ°£é£½æ»¿ï¼›æˆ‘å€‘è¿½æ±‚çš„æ˜¯ã€Œè¶Šåƒè¶Šæƒ³å¿µã€çš„å£å‘³ã€‚",
        about_p2_title: "å¤–å¸¶ä¹Ÿè¦å¥½åƒ",
        about_p2: "å‡ºé¤èˆ‡æ‰“åŒ…æµç¨‹æŒçºŒå„ªåŒ–ï¼Œè®“å¤–å¸¶èˆ‡å¤–é€ä¹Ÿä¿æœ‰é‹æ°£èˆ‡å£æ„Ÿã€‚",
        contact_title: "è¯çµ¡",
        contact_sub: "æœ‰ä»»ä½•å•é¡Œã€æƒ³é è¨‚æˆ–æƒ³åˆä½œï¼Œç›´æ¥ç”¨ LINE æœ€å¿«ã€‚",
        contact_line_title: "LINE",
        contact_line_tip: "ä½ å¯ä»¥ç›´æ¥è²¼ä¸Š Uber è¨‚å–®å•é¡Œã€å®¢è£½éœ€æ±‚ï¼Œæˆ‘å€‘æœƒç›¡å¿«å›è¦†ã€‚",
        contact_addr_title: "åœ°å€ / ç‡Ÿæ¥­æ™‚é–“",
        contact_addr: "æ–°åŒ—å¸‚æ¿æ©‹å€æ–‡åŒ–è·¯ä¸€æ®µ311ä¹‹11è™Ÿ",
        contact_hours: "11:00â€“14:00ã€17:00â€“21:00ï¼ˆé€±æ—¥å…¬ä¼‘ï¼‰",
        feature: "ä¸»æ‰“æ¨è–¦",
        spicy: "å¯èª¿è¾£",
        coriander: "å«é¦™èœ",
        peanut: "å«èŠ±ç”Ÿ",
        rice: "é£¯é‡å¯èª¿",
      },
      th: {
        brand_zh: "Khunya Thai Cuisine",
        brand_en: "à¸„à¸£à¸±à¸§à¸à¸²à¸­à¸²à¸«à¸²à¸£à¹„à¸—à¸¢",
        nav_lang_label: "à¸ à¸²à¸©à¸² / Language",
        nav_menu: "à¹€à¸¡à¸™à¸¹", nav_about: "à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹€à¸£à¸²", nav_contact: "à¸•à¸´à¸”à¸•à¹ˆà¸­",
        hero_title: "Khunya Thai Cuisine",
        hero_desc: "à¸­à¸²à¸«à¸²à¸£à¹„à¸—à¸¢à¸ªà¹„à¸•à¸¥à¹Œà¸šà¹‰à¸²à¸™ à¹† à¸¢à¹ˆà¸²à¸™à¸›à¸±à¹ˆà¸™à¹€à¸‰à¸µà¸¢à¸§: à¸à¸°à¹€à¸à¸£à¸² à¸‚à¹‰à¸²à¸§à¸‹à¸­à¸¢ à¸à¹‹à¸§à¸¢à¹€à¸•à¸µà¹‹à¸¢à¸§à¹€à¸£à¸·à¸­ à¹à¸¥à¸°à¸Šà¸²à¹„à¸—à¸¢",
        addr_label: "à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ", addr_text: "No.311-11, Sec.1 Wenhua Rd., Banqiao, New Taipei",
        hours_label: "à¹€à¸§à¸¥à¸²", hours_text: "11:00â€“14:00, 17:00â€“21:00 (à¸›à¸´à¸”à¸§à¸±à¸™à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ)",
        cta_line: "à¸•à¸´à¸”à¸•à¹ˆà¸­ LINE",
        cta_nav: "à¸™à¸³à¸—à¸²à¸‡",
        menu_title: "à¹€à¸¡à¸™à¸¹",
        menu_sub: "à¹à¸•à¹ˆà¸¥à¸°à¸«à¸¡à¸§à¸”à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸‹à¹‰à¸²à¸¢â€‘à¸‚à¸§à¸²à¹„à¸”à¹‰ à¹à¸•à¸°à¸à¸²à¸£à¹Œà¸”à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¸£à¸¹à¸›à¸‚à¸¢à¸²à¸¢ à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ à¸²à¸©à¸²à¹„à¸”à¹‰à¸—à¸µà¹ˆà¸¡à¸¸à¸¡à¸‚à¸§à¸²à¸šà¸™",
        about_title: "à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹€à¸£à¸²",
        about_sub: "à¹€à¸£à¸²à¸•à¸±à¹‰à¸‡à¹ƒà¸ˆà¸à¸²à¸„à¸§à¸²à¸¡à¸—à¸£à¸‡à¸ˆà¸³à¸£à¸ªà¸Šà¸²à¸•à¸´à¹„à¸—à¸¢à¸à¸¥à¸±à¸šà¸¡à¸²à¹ƒà¸«à¹‰à¸„à¸¸à¸“à¸—à¸µà¹ˆà¸›à¸±à¹ˆà¸™à¹€à¸‰à¸µà¸¢à¸§ à¸—à¸±à¹‰à¸‡à¸à¸¥à¸´à¹ˆà¸™à¹à¸¥à¸°à¸£à¸ªà¸—à¸µà¹ˆà¸„à¸´à¸”à¸–à¸¶à¸‡",
        about_p1_title: "à¸£à¸ªà¹„à¸—à¸¢à¹à¸šà¸šà¸à¸´à¸™à¹„à¸”à¹‰à¸—à¸¸à¸à¸§à¸±à¸™",
        about_p1: "à¸à¸°à¹€à¸à¸£à¸²à¹ƒà¸Šà¹‰à¹ƒà¸šà¸à¸°à¹€à¸à¸£à¸²à¹à¸—à¹‰ à¸™à¹‰à¸³à¸‹à¸¸à¸›à¸à¹‹à¸§à¸¢à¹€à¸•à¸µà¹‹à¸¢à¸§à¹€à¸£à¸·à¸­à¹€à¸‚à¹‰à¸¡à¸‚à¹‰à¸™ à¹à¸¥à¸°à¹à¸à¸‡à¸«à¸­à¸¡à¸ˆà¸±à¸”",
        about_p2_title: "à¸‹à¸·à¹‰à¸­à¸à¸¥à¸±à¸šà¸šà¹‰à¸²à¸™à¸à¹‡à¸•à¹‰à¸­à¸‡à¸­à¸£à¹ˆà¸­à¸¢",
        about_p2: "à¹€à¸£à¸²à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¹à¸à¹‡à¸à¹ƒà¸«à¹‰à¸£à¸ªà¸Šà¸²à¸•à¸´à¸¢à¸±à¸‡à¸”à¸µà¹€à¸«à¸¡à¸·à¸­à¸™à¸—à¸²à¸™à¸—à¸µà¹ˆà¸£à¹‰à¸²à¸™",
        contact_title: "à¸•à¸´à¸”à¸•à¹ˆà¸­",
        contact_sub: "à¸–à¹‰à¸²à¸¡à¸µà¸„à¸³à¸–à¸²à¸¡à¸«à¸£à¸·à¸­à¸­à¸¢à¸²à¸à¸ªà¸±à¹ˆà¸‡à¸ˆà¸­à¸‡ à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸²à¸‡ LINE à¹„à¸”à¹‰à¹€à¸£à¹‡à¸§à¸—à¸µà¹ˆà¸ªà¸¸à¸”",
        contact_line_title: "LINE",
        contact_line_tip: "à¸ªà¹ˆà¸‡à¸„à¸³à¸–à¸²à¸¡à¸«à¸£à¸·à¸­à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸¡à¸²à¹„à¸”à¹‰à¹€à¸¥à¸¢ à¹€à¸£à¸²à¸ˆà¸°à¸•à¸­à¸šà¸à¸¥à¸±à¸šà¹€à¸£à¹‡à¸§à¸—à¸µà¹ˆà¸ªà¸¸à¸”",
        contact_addr_title: "à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ / à¹€à¸§à¸¥à¸²",
        contact_addr: "No.311-11, Sec.1 Wenhua Rd., Banqiao, New Taipei",
        contact_hours: "11:00â€“14:00, 17:00â€“21:00 (à¸›à¸´à¸”à¸§à¸±à¸™à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ)",
        feature: "à¹€à¸¡à¸™à¸¹à¹à¸™à¸°à¸™à¸³",
        spicy: "à¸›à¸£à¸±à¸šà¸„à¸§à¸²à¸¡à¹€à¸œà¹‡à¸”",
        coriander: "à¸¡à¸µà¸œà¸±à¸à¸Šà¸µ",
        peanut: "à¸¡à¸µà¸–à¸±à¹ˆà¸§à¸¥à¸´à¸ªà¸‡",
        rice: "à¸›à¸£à¸±à¸šà¸›à¸£à¸´à¸¡à¸²à¸“à¸‚à¹‰à¸²à¸§",
      },
      en: {
        brand_zh: "Khunya Thai Cuisine",
        brand_en: "à¸„à¸£à¸±à¸§à¸à¸²à¸­à¸²à¸«à¸²à¸£à¹„à¸—à¸¢",
        nav_lang_label: "Language",
        nav_menu: "Menu", nav_about: "About", nav_contact: "Contact",
        hero_title: "Khunya Thai Cuisine",
        hero_desc: "Thai comfort food in Banqiao: Pad Kaprao, Khao Soi, Boat Noodles and Thai Milk Tea.",
        addr_label: "Address", addr_text: "No.311-11, Sec.1 Wenhua Rd., Banqiao, New Taipei",
        hours_label: "Hours", hours_text: "11:00â€“14:00, 17:00â€“21:00 (Closed Sun)",
        cta_line: "Chat on LINE",
        cta_nav: "Get Directions",
        menu_title: "Menu",
        menu_sub: "Swipe each category left/right. Tap a card to enlarge the image. Switch language at top-right.",
        about_title: "About",
        about_sub: "We bring back the everyday Thai flavors you missâ€”aroma, wok hei, and generous ingredients.",
        about_p1_title: "Everyday Thai comfort",
        about_p1: "Holy basil, bold broths, fragrant curriesâ€”built to taste like Thailand, day after day.",
        about_p2_title: "Takeout that holds up",
        about_p2: "We keep improving packing and workflow so takeout stays delicious.",
        contact_title: "Contact",
        contact_sub: "Questions, reservations or collaborationsâ€”LINE is the fastest way.",
        contact_line_title: "LINE",
        contact_line_tip: "Send your Uber/order questions or custom requestsâ€”weâ€™ll reply asap.",
        contact_addr_title: "Address / Hours",
        contact_addr: "No.311-11, Sec.1 Wenhua Rd., Banqiao, New Taipei",
        contact_hours: "11:00â€“14:00, 17:00â€“21:00 (Closed Sun)",
        feature: "Featured",
        spicy: "Spicy",
        coriander: "Coriander",
        peanut: "Peanut",
        rice: "Rice option",
      }
    };

    const LANG_KEY = "khunya_lang";
    
    function detectPreferredLang(){
      const raw = (navigator.language || navigator.userLanguage || "en").toLowerCase();
      // zh* â†’ zhï¼›th* â†’ thï¼›å…¶ä»–ä¸€å¾‹ en
      if (raw.startsWith("zh")) return "zh";
      if (raw.startsWith("th")) return "th";
      return "en";
    }
    
    function getInitialLang(){
      const saved = localStorage.getItem(LANG_KEY);
      return (saved === "zh" || saved === "th" || saved === "en") ? saved : detectPreferredLang();
    }
    
    function saveLang(lang){
      localStorage.setItem(LANG_KEY, lang);
    }
    
    let currentLang = getInitialLang();
    // è®“ <html lang="..."> ä¹ŸåŒæ­¥ï¼ˆSEO/ç„¡éšœç¤™æ›´ä¸€è‡´ï¼‰
    document.documentElement.lang = (currentLang === "zh") ? "zh-Hant" : (currentLang === "th" ? "th" : "en");

    function t(key) {
      return (I18N[currentLang] && I18N[currentLang][key]) || (I18N.zh[key] ?? key);
    }
    function applyI18n() {
      $$("[data-i18n]").forEach(el => {
        const k = el.getAttribute("data-i18n");
        el.textContent = t(k);
      });
      $$(".lang-btn").forEach(btn => {
        btn.setAttribute("aria-pressed", btn.dataset.lang === currentLang ? "true" : "false");
      });
      renderMenu(lastMenuData);
    }

    $$(".lang-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        currentLang = btn.dataset.lang;

        // persist user's choice
        saveLang(currentLang);

        // sync <html lang="">
        document.documentElement.lang = (currentLang === "zh") ? "zh-Hant" : (currentLang === "th" ? "th" : "en");

        applyI18n();
      });
    });

    // ====== Mobile drawer (hamburger) ======
    const navToggle = document.getElementById("navToggle");
    const drawer = document.getElementById("drawer");

    function openDrawer(){
      if (!drawer) return;
      drawer.classList.add("open");
      drawer.setAttribute("aria-hidden", "false");
      if (navToggle) navToggle.setAttribute("aria-expanded", "true");
      document.body.style.overflow = "hidden";
    }
    function closeDrawer(){
      if (!drawer) return;
      drawer.classList.remove("open");
      drawer.setAttribute("aria-hidden", "true");
      if (navToggle) navToggle.setAttribute("aria-expanded", "false");
      document.body.style.overflow = "";
    }

    if (navToggle) {
      navToggle.addEventListener("click", () => {
        if (drawer && drawer.classList.contains("open")) closeDrawer();
        else openDrawer();
      });
    }

    if (drawer) {
      drawer.addEventListener("click", (e) => {
        const t = e.target;
        if (t && t.closest && t.closest("[data-close='1']")) closeDrawer();
      });
      window.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && drawer.classList.contains("open")) closeDrawer();
      });
      drawer.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener("click", () => closeDrawer());
      });
    }


    // ====== Smoother scroll (Lenis, fallback safe) ======
    let lenis = null;
    try {
      if (window.Lenis) {
        lenis = new Lenis({ duration: 1.05, smoothWheel: true, smoothTouch: false });
        function raf(time) {
          lenis.raf(time);
          requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);
      }
    } catch (e) {
      // silent fallback
    }
    // anchor scroll
    $$('a[href^="#"]').forEach(a => {
      a.addEventListener("click", (e) => {
        const id = a.getAttribute("href");
        if (!id || id === "#") return;
        const target = document.querySelector(id);
        if (!target) return;
        e.preventDefault();
        try { if (drawer && drawer.classList.contains("open")) closeDrawer(); } catch(e) {}
        const y = target.getBoundingClientRect().top + window.scrollY - 70;
        if (lenis) lenis.scrollTo(y);
        else window.scrollTo({ top: y, behavior: "smooth" });
      });
    });

    // ====== Scroll reveal ======
    const io = new IntersectionObserver((entries) => {
      for (const ent of entries) {
        if (ent.isIntersecting) {
          ent.target.classList.add("in");
          io.unobserve(ent.target);
        }
      }
    }, { threshold: 0.16 });
    $$(".reveal").forEach(el => io.observe(el));

    // ====== Lightbox ======
    const lightbox = $("#lightbox");
    const lightboxImg = $("#lightboxImg");
    lightbox.addEventListener("click", () => {
      lightbox.classList.remove("show");
      lightbox.setAttribute("aria-hidden", "true");
      lightboxImg.src = "";
    });

    // ====== Menu rendering ======
    let lastMenuData = null;

    function getItemName(it) {
      if (currentLang === "th") return it.nameTh || it.nameZh || it.nameEn || "";
      if (currentLang === "en") return it.nameEn || it.nameZh || it.nameTh || "";
      return it.nameZh || it.nameEn || it.nameTh || "";
    }
    function getItemDesc(it) {
      if (currentLang === "th") return it.descTh || it.descZH || it.descEn || "";
      if (currentLang === "en") return it.descEn || it.descZH || it.descTh || "";
      return it.descZH || it.descEn || it.descTh || "";
    }
    function getCategoryName(it) {
      if (currentLang === "th") return it.categoryTh || it.categoryZh || it.categoryEn || "Menu";
      if (currentLang === "en") return it.categoryEn || it.categoryZh || it.categoryTh || "Menu";
      return it.categoryZh || it.categoryEn || it.categoryTh || "èœå–®";
    }

    function resolveImage(code, imageUrl) {
      if (imageUrl) return imageUrl;
      return `menu-images/${code}.jpg`;
    }

    function createBadge(text) {
      const span = document.createElement("span");
      span.className = "badge";
      span.textContent = text;
      return span;
    }

    function renderMenu(data) {
      if (!data) return;
      const root = $("#menuRoot");
      root.innerHTML = "";

      // group by category key (use zh as stable grouping)
      const groups = new Map();
      for (const it of data) {
        const key = it.categoryZh || it.categoryEn || it.categoryTh || "Other";
        if (!groups.has(key)) groups.set(key, []);
        groups.get(key).push(it);
      }

      // Featured first section (optional)
      const featured = data.filter(it => it.feature);
      if (featured.length) {
        const sec = buildCategorySection(t("feature"), featured, "featured");
        root.appendChild(sec);
      }

      for (const [key, items] of groups.entries()) {
        // skip items already shown in featured carousel (but still keep in their category? up to you)
        const secTitle = getCategoryName(items[0]);
        const sec = buildCategorySection(secTitle, items, key);
        root.appendChild(sec);
      }

      // Observe reveals created dynamically
      $$("#menuRoot .reveal").forEach(el => io.observe(el));
    }

    function buildCategorySection(title, items, key) {
      const wrap = document.createElement("div");
      wrap.className = "cat";

      const titleRow = document.createElement("div");
      titleRow.className = "cat-title-row reveal";
      titleRow.innerHTML = `
        <h3 class="cat-title">${title}</h3>
        <div class="carousel-controls" aria-label="carousel controls">
          <button class="iconbtn" type="button" aria-label="prev">
            <svg viewBox="0 0 24 24" fill="none"><path d="M15 18 9 12l6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <button class="iconbtn" type="button" aria-label="next">
            <svg viewBox="0 0 24 24" fill="none"><path d="m9 18 6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      `;
      wrap.appendChild(titleRow);

      const track = document.createElement("div");
      track.className = "track";
      track.setAttribute("data-key", key);

      for (const it of items) {
        const card = document.createElement("article");
        card.className = "card reveal";
        const pillClass = it.feature ? "pill feature" : "pill";
        const pillText = it.code || "";
        const name = escapeHtml(getItemName(it));
        const desc = escapeHtml(getItemDesc(it));
        const price = Number(it.price || 0);

        const imgSrc = resolveImage(it.code, it.imageUrl);

        card.innerHTML = `
          <div class="card-top">
            <span class="${pillClass}">${pillText}</span>
          </div>
          <div class="media">
            <div class="imgwrap">
              <img loading="lazy" alt="${name}" src="${imgSrc}" data-code="${it.code}" />
            </div>
          </div>
          <div class="card-body">
            <h4 class="title">${name}</h4>
            <p class="desc">${desc}</p>
            <div class="row">
              <div class="badges"></div>
              <div class="price">$${price}</div>
            </div>
          </div>
        `;

        const badges = card.querySelector(".badges");
        if (it.spice) badges.appendChild(createBadge("ğŸŒ¶ " + t("spicy")));
        if (it.coriander) badges.appendChild(createBadge("ğŸŒ¿ " + t("coriander")));
        if (it.peanut) badges.appendChild(createBadge("ğŸ¥œ " + t("peanut")));
        if (it.rice) badges.appendChild(createBadge("ğŸš " + t("rice")));

        // Image fallbacks (.jpg -> .jpeg -> .png -> .webp)
        const img = card.querySelector("img");
        const tryExt = [".jpg", ".jpeg", ".png", ".webp"];
        img.addEventListener("error", () => {
          const code = img.dataset.code;
          const current = img.src;
          const idx = tryExt.findIndex(ext => current.includes(code + ext));
          const nextIdx = idx + 1;
          if (nextIdx < tryExt.length) {
            img.src = `menu-images/${code}${tryExt[nextIdx]}`;
          } else {
            // placeholder
            img.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='800' height='800'><rect width='100%' height='100%' fill='#f2eee7'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='#777' font-family='Arial' font-size='28'>NO IMAGE</text></svg>`);
          }
        });

        // Lightbox
        card.addEventListener("click", (e) => {
          const targetImg = card.querySelector("img");
          if (!targetImg) return;
          lightboxImg.src = targetImg.src;
          lightbox.classList.add("show");
          lightbox.setAttribute("aria-hidden", "false");
        });

        // Subtle parallax in-card image
        card.addEventListener("mousemove", (e) => {
          if (window.matchMedia("(prefers-reduced-motion: reduce)").matches) return;
          const rect = card.getBoundingClientRect();
          const y = (e.clientY - rect.top) / rect.height - 0.5;
          const imgEl = card.querySelector(".imgwrap img");
          if (imgEl) imgEl.style.transform = `translateY(${y * 6}px)`;
        });
        card.addEventListener("mouseleave", () => {
          const imgEl = card.querySelector(".imgwrap img");
          if (imgEl) imgEl.style.transform = "translateY(0px)";
        });

        track.appendChild(card);
      }

      wrap.appendChild(track);

      // Buttons scroll
      const btnPrev = titleRow.querySelector('button[aria-label="prev"]');
      const btnNext = titleRow.querySelector('button[aria-label="next"]');
      function scrollByCards(dir) {
        const card = track.querySelector(".card");
        const w = card ? card.getBoundingClientRect().width : 260;
        track.scrollBy({ left: dir * (w + 12) * 1.2, behavior: "smooth" });
      }
      btnPrev.addEventListener("click", () => scrollByCards(-1));
      btnNext.addEventListener("click", () => scrollByCards(1));

      return wrap;
    }

    function escapeHtml(str) {
      return String(str || "")
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    async function loadMenu() {
      const status = $("#menuStatus");
      status.textContent = "è¼‰å…¥èœå–®ä¸­â€¦";

      const candidates = [
        new URL("./menu.json", window.location.href).toString(),
        "https://khunyathai.com/menu.json"
      ];

      let lastErr = null;
      for (const u of candidates) {
        try {
          const res = await fetch(u + (u.includes("?") ? "&" : "?") + "v=" + Date.now(), { cache: "no-store" });
          if (!res.ok) throw new Error("HTTP " + res.status);
          const data = await res.json();
          if (!Array.isArray(data)) throw new Error("menu.json format error");
          lastMenuData = data;
          status.remove();
          renderMenu(data);
          return;
        } catch (e) {
          lastErr = e;
        }
      }

      status.className = "error";
      status.textContent = "èœå–®è¼‰å…¥å¤±æ•—ï¼šè«‹ç¢ºèª menu.json æ˜¯å¦åœ¨ç¶²ç«™æ ¹ç›®éŒ„ï¼Œæˆ–æª”æ¡ˆå¤§å°/æ ¼å¼æ˜¯å¦æ­£ç¢ºã€‚(" + (lastErr ? lastErr.message : "unknown") + ")";
      console.error(lastErr);
    }

    // ====== Hero parallax (safe) ======
    const hero = document.querySelector(".hero");
    function onScrollParallax() {
      if (!hero) return;
      if (window.matchMedia("(prefers-reduced-motion: reduce)").matches) return;
      const y = window.scrollY || 0;
      const p = Math.min(220, y * 0.18);
      hero.style.backgroundPosition = `center calc(50% + ${p}px)`;
    }
    window.addEventListener("scroll", onScrollParallax, { passive: true });
    onScrollParallax();

    
    // ===== Thai weekday color easter egg (Asia/Taipei) =====
    (function setThaiWeekdayClass(){
      try{
        const dt = new Date(new Intl.DateTimeFormat("en-US", { timeZone: "Asia/Taipei" }).format(new Date()));
        const day = dt.getDay(); // 0=Sun ... 6=Sat
        const dayClasses = ["day-sun","day-mon","day-tue","day-wed","day-thu","day-fri","day-sat"];
        document.documentElement.classList.add(dayClasses[day]);
      }catch(e){}
    })();

// ====== Start ======
    loadMenu();
    applyI18n();
  </script>
</body>
</html>
